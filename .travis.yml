sudo: required
dist: trusty
addons:
  artifacts:
    paths:
      - results
  apt:
    sources:
      - google-chrome
    packages:
      - google-chrome-stable
language: node_js
node_js:
  - '7'
cache:
  directories:
    - node_modules
    - bower_components
    - $HOME/.npm
    - $HOME/.cache
before_script:
  - npm install
before_deploy:
  - npm run build
env:
  global:
    - NODE_ENV=testing
    - ARTIFACTS_BUCKET=js-tasks-ru
    - secure: >-
        nMTxwS9ooE7i4Kszb95vb1aIT2UBXXO0WXz5nLeaPvClgkILq87Bs1Iswg52XSZVAXkJJCxYi6c9bvI2hAdyX57i3UW9MxuFLVyCfwLmxTUdUmbpJ9zqMqg/3Bbtm/bkBB/oxc+d7K3437NKvninhUSw6F1ClKMJuw4h8Ocppagoz0rRUKs9iNn0GEx5fxYoF6l30zvwcPurPcgvxyfzLvYDx9bIaIJ6aIHuV3R8dximuWntA639yZRPoBPtB4fsupxsJEVhZdjyhVqmX8ehYOnNQjYVwi2nZfd25xNgAkPxkl6bEIQtRVwbTbBRl6j3nJVckveFcIhnDeLrork3OJvALqoamTMBe19Gx0W4bD0VayQkB1RXoVzGsVgyEH7FsVLhXMx6a1fLn/YaPy/PoRG3MfKYHSIqNMWfsgQyDVMnxlO1fhjjVgGDnbw7iPqW60/DH8d4TxtYv3I7H3tp1vAFMfLfEHexeQiQ1nSEbZhRCs2kx3RXHSzjWNexj5aPS16f7gkxejVn1oNPfGuNCBxmkjhlkBPG06O7kRlgJMDX37gtZEFKiIBVCULl8XKXeg0JpAfW+9XdNZYN3+VdYQzHjmkaR/PxOFJFrkkt0LU8Bs3M+u2q1JPQPIeYwqcXjtY4BNRJOClRaYrivFdgy9pa9fawfyBhUud9KNre3zI=
    - secure: >-
        uykdi2WZnZmFcNnRFb1PX3buD+Jpk88aT/ZW1ODEVz9iyFUcVLlYRzpLEmEMQO9EcnY8svScAu2jYISqGhFnIQrflzXTEPhuratYCvpgALupuN34ahhvlV3EfAAku3kW7PbqNitjJFRggejKsLWFn1sjmNPcFCTpc7cM/6RH6uKbBfRLLuQ+Ubk/DCwjlrrQ2TRzbodRlEL5HsLSagAUWlTePwY+QXJZ8pmVRJ3Avw3J86flVr3RlJQ4Q54bw9ecaNxBtwEnN3t0z1QqXfehrWmITLWUKXYsj6D4oqG1T0jEtEGI1lgKoIIBuBibCiHT0q0Omkpm4J9SeUO3u7+fJlcv4HQ5kc6owl2RicaDedfXhSbzI3/rjuT4Gt7N94lIJk5ZFtZE7ToTWBAC5k+8uSVudMo0jmgSsN0Zdp+7goICdqNZt/pKlWzwhjlB7UyNcknEatq3haFpSgYpMiW39L9edaeLzg89ptrggBQzFz1iqgsxTIym5+KUI9EY8opFN/uHn/K/HEIWXhuegx9NpKaA9h0XyUJT7HEMO61z217AVywftEE3ygZ6CJuKaOucFjDx0nyR4TBSnrr17M4qpgHKRTyVmL5USY8MgHhRFNS20yjx5+3EdeFuIMqZ3QvkDb34eOZ37wm70jkaj6V1zxGQFbm8D7cpXFr26oJBQ68=
script:
  - npm run test
notifications:
  webhooks: 'http://learn.javascript.ru/automation/ci/build'
